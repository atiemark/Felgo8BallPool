<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- tutorial.qdoc -->
  <meta name="description" content="Introduction">
  <title>Felgo Challenge - 8 Ball Pool Game - Introduction | Felgo 8 Ball Pool Tutorial</title>
<link rel="stylesheet" type="text/css" href="style/offline.css"/>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#tutorial-contents">Tutorial contents</a></li>
<li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level2"><a href="#real-world-8-ball">Real world 8-Ball</a></li>
<li class="level2"><a href="#2d-game-simulation">2D game simulation</a></li>
<li class="level1"><a href="#setting-up-the-project">Setting up the project</a></li>
<li class="level2"><a href="#adoption-of-existing-physics-stack-the-box-project">Adoption of existing &quot;Physics - Stack The Box&quot; project</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Felgo Challenge - 8 Ball Pool Game - Introduction</h1>
<!-- $$$Introduction-and-Setup.html-description -->
<div class="descr" id="details">
<p><br />
 <br />
 This is the tutorial on how to recreate the &quot;Felgo8BallPool&quot; game, as requested by the Felgo developer challenge. <br />
</p>
<h2 id="tutorial-contents">Tutorial contents</h2>
<div \list><p>- <a href="introduction-and-setup.html">Introduction and Setup</a></p>
<p>- <a href="creating-the-balls.html">Creating the balls</a></p>
<p>- <a href="ball-placement.html">Ball placement</a></p>
<p>- <a href="creating-the-stick.html">Creating the Stick</a></p>
<p>- <a href="placing-the-stick-and-adding-control.html">Placing the Stick and adding control</a></p>
<p>- <a href="adding-the-pockets.html">Adding the pockets</a></p>
<p>- <a href="adding-game-logic-and-display-text.html">Adding game logic and display text</a></p>
<p>- <a href="adding-a-raycast-to-help-aiming.html">Adding a Raycast (to help aiming)</a></p>
</div><h2 id="introduction">Introduction</h2>
<h3 id="real-world-8-ball">Real world 8-Ball</h3>
<p>Eight-ball (also spelled 8-ball or eightball) is a discipline of pool played on a billiard table with six pockets, cue sticks, and sixteen billiard balls (a cue ball and fifteen object balls). The object balls include seven solid-colored balls numbered 1 through 7, seven striped balls numbered 9 through 15, and the black 8 ball. After the balls are scattered with a break shot, a player is assigned either the group of solid or striped balls once they have legally pocketed a ball from that group.</p>
<p class="centerAlign"><img src="images/Eight_Ball_Rack_2005_SeanMcClean.jpg" alt="" /></p><p>The object of the game is to legally pocket the 8-ball in a &quot;called&quot; pocket, which can only be done after all of the balls from a player's assigned group have been cleared from the table. The game is the most frequently played discipline of pool, and is often thought of as synonymous with &quot;pool&quot;. The game has numerous variations, mostly regional. It is the second most played professional pool game, after nine-ball, and for the last several decades ahead of straight pool.</p>
<p><a href="https://en.wikipedia.org/wiki/Eight-ball">https://en.wikipedia.org/wiki/Eight-ball</a></p>
<h3 id="2d-game-simulation">2D game simulation</h3>
<p>Computer game versions of 8 ball or pool usually feature a birds eye view and feature mouse controls for the cue stick. Additionally it is possible to give a spin to the white &quot;cue ball&quot; to shoot in curves for complex turns. As shown below, a classic miniclip pool online game, which could serve as an example:</p>
<p class="centerAlign"><img src="images/image18.png" alt="" /></p><p class="figCaption">Screenshot from a &quot;8 Ball Pool&quot; game on <a href="https://8ballpool.com/en/game">https://8ballpool.com/en/game</a></p>
<h2 id="setting-up-the-project">Setting up the project</h2>
<p>Our aim is to recreate a simpler version of the original, famous american style 8 ball pool usind Felgo and the 2D physics engine! <br />
<br />
 We start by creating a new poject from the Qt Creator Welcome page and choose <b>&quot;Physics - Stack The Box&quot;</b>.</p>
<p class="centerAlign"><img src="images/image17.png" alt="" /></p><p>We give a custom name and directory. For this project I used the <b>&quot;Felgo SDK Desktop Qt 6.4.1 MinGW 64-bit&quot;</b> Kit. We also set the <b>app display name, app identifier</b> and use a <b>landscape orientation</b>. Everything else should be good to go by default. <br />
 When starting the app, we should now see the included &quot;Stack the Box&quot; demo running, with smoking boxes flying down from the sky, colliding with the walls.</p>
<p class="centerAlign"><img src="images/image19.png" alt="" /></p><h3 id="adoption-of-existing-physics-stack-the-box-project">Adoption of existing &quot;Physics - Stack The Box&quot; project</h3>
<p>For our game, we only need the walls for now (which then will be adapted to feature pockets later <a href="adding-the-pockets.html">here</a>). <br />
 We can therefore go to our main qml file <code translate="no">qml/Main.qml</code> in the Project side bar:</p>
<p class="centerAlign"><img src="images/image20.png" alt="" /></p><p>(which is set as the main qml file via <code translate="no">felgo.setMainQmlFileName(QStringLiteral(&quot;qml/Main.qml&quot;));</code> in <code translate="no">main.cpp</code>) and <b>remove</b> the black background:</p>
<pre class="qml" translate="no"><span class="type">Rectangle</span> {
    <span class="name">anchors</span>.fill: <span class="name">parent</span>
    <span class="name">color</span>: <span class="string">&quot;black&quot;</span>
}</pre>
<p>from inside <code translate="no">GameWindow</code> as we will add our own green background later. Then <b>remove the following components</b>:</p>
<p>- We will create our own game status text:</p>
<pre class="qml" translate="no"><span class="type">Text</span> {
    <span class="name">text</span>: <span class="string">&quot;Boxes: &quot;</span> <span class="operator">+</span> <span class="name">scene</span>.<span class="name">createdBoxes</span>
    <span class="name">color</span>: <span class="string">&quot;white&quot;</span>
    <span class="name">z</span>: <span class="number">1</span> <span class="comment">// put on top of everything else in the Scene</span>
    <span class="comment">//...</span>
}</pre>
<p>-We dont need any mouse control to move the boxes:</p>
<pre class="qml" translate="no"><span class="type">Component</span> {
    <span class="name">id</span>: <span class="name">mouseJoint</span>
    <span class="comment">//...</span>
}</pre>
<p>- No mouse area is needed yet, awe will add our own one one later:</p>
<pre class="qml" translate="no"><span class="type">MouseArea</span> {
<span class="comment">//...</span>
}</pre>
<p>- No boxes in our game!</p>
<pre class="qml" translate="no"><span class="type">Box</span> {
    <span class="comment">//...</span>
}</pre>
<p>- And lastly we remove the blue toggle buttons:</p>
<pre class="qml" translate="no"><span class="comment">// for toggling audio and particles</span>
<span class="type">Column</span> {
   <span class="comment">//...</span>
}</pre>
<p>We should now end up with just the walls:</p>
<p class="centerAlign"><img src="images/image21.png" alt="" /></p><p>Because we dont need any boxes or smoke in our pool game, we can also remove the files <code translate="no">qml/entities/Box.qml</code> and <code translate="no">qml/entities/SmokeParticle.json</code></p>
<p class="centerAlign"><img src="images/image22.png" alt="" /></p><p>Now, before we create the balls for our game in the next chapter, we set up a few properties which define the scale of our game for later. Those properties can be adjusted to fit different table-, pocket-, wall- and ball sizes in millimeter later.</p>
<pre class="qml" translate="no">        id: scene
        width: 1280
        property int fieldWidthMillimeter: 2240
        property int fieldHeightMillimeter: 1120
        property int pocketHoleDiameterMillimeter: 130
        property int wallHeightMillimeter: 60
        property int tableEdgeMillimeter: 60

        height: width * (fieldHeightMillimeter / fieldWidthMillimeter)

        property int ballDiameterMillimeter: 60
        property int ballWeightGrams: 160
        property int playBallTriangleNumRows: 5

        property real ballDiameter: width / (fieldWidthMillimeter / ballDiameterMillimeter)
        property real ballDensity: ballWeightGrams / (Math.pow(ballDiameter/2, 2) * Math.PI)    //density is in kg/pixel^2 - area of ball is (d/2)^2 * PI
        property real wallHeight:  width / (fieldWidthMillimeter / wallHeightMillimeter)
        property real pocketSizeDiameter: width / (fieldWidthMillimeter / pocketHoleDiameterMillimeter)
        property real tableEdge: width / (fieldWidthMillimeter / tableEdgeMillimeter)

        property var ballPositions: []
        property var whiteBall

        //...
}</pre>
<p>The properties <code translate="no">ballDiameter, ballDensity, wallHeight, pocketSizeDiameter, ...</code> are then automativally calculated on startup. We give our game scene a standard <code translate="no">width</code> of <code translate="no">1280</code> pixels.</p>
</div>
<!-- @@@Introduction-and-Setup.html -->
        </div>
       </div>
   </div>
   </div>
</div>
</body>
</html>
